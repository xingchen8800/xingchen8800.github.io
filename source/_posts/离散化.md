---
title: 离散化
date: 2024-10-19 10:07:39
tags: 
    - C++
    - CSP提高组
---

# 介绍

“离散化”是指用一个序列中元素的 __相对值__ 代替 __绝对值__，以达到减小空间复杂度的一种操作。其中，相对值可以理解为元素的 __排名__。

例如：对于序列 ${99999,111,333,0,3}$，可以离散化为： ${5,3,4,1,2}$。

# 编码

```c++
//include略
struct Data {
    int val, index;
} array[10001];
int result[10001];

bool cmp(Data & a, Data & b) {
    if(a.val == b.val) return a.index > b.index;
    return a.val > b.val;
}

//in main:
    sort(array + 1, array + 1 + n, cmp);
    for(int i = 1; i <= n; i++) {
        result[array[i].index] = i; //array[i].index为原数组中的下标，i为"排名"，result[i]为离散化结果
    }
    for(int i = 1; i <= n; i++) cout << result[i] << " ";
    //...

```