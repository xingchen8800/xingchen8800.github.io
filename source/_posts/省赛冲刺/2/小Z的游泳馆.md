---
title: 小Z的游泳馆
date: 2024-12-21 13:13:07
tags:
    - C++
    - 贪心算法
    - 区间选点
---

## 题目描述

科丁星球的小科开了一个全天开放的游泳馆。科丁星球的一天从 $0$ 点到 $9999$ 点，共 $10000$ 个小时。小科的游泳馆采用会员制，需要先办理会员卡，然后就可以不限时的游泳了。游泳馆共办理了N张会员卡，编号依次为 $1 \dots N$。经过一段时间的运营，小科发现了每个会员的游泳规律。他发现会员卡编号为 $i$ 的会员只可能在 $A_i$ 点到 $B_i$ 点（包括 $A_i$ 点和 $B_i$ 点）这个时间段内来游泳馆游泳，并且最多只会游 $C_i$ 小时。为了节省运营成本，小科和所有会员都做了沟通，并达成一致。对于会员卡编号为 $i$ 的会员，小科只要保证在 $A_i$ 到 $B_i$ 时段内游 $C_i$ 个小时游泳馆开放的就可以了。请帮助小科算一算，游泳馆每天至少要开放多少小时？

## 输入格式

第 $1$ 行：一个整数 $N$，表示游泳馆会员的数量 $(1 <= N <= 10000)$；

接下来 $N$ 行：每行 $3$ 个空格分隔的整数 $A_i, B_i, C_i$，表示一个会员的游泳信息。$(0 <= A <= B <= 9999，1 <= C <= (B - A + 1))$;

## 输出格式

一行：一个整数，表示小科游泳馆每天最少开放的小时数。

## 输入输出样例

### 输入样例1

```plaintext
3
1 5 2
5 8 2
4 6 2
```

### 输出样例1

```plaintext
3
```

## 题解

### 题目翻译

有 $n$ 个人，每个人在 $[a_i,b_i]$ 之间要游 $c_i$ 个小时。

### 题目分析

其实就相当于在 $[a_i,b_i]$ 中间选择 $c_i$ 个点，如果这个点被选过了，就不必再选。

这题其实相当于是 $T2$ 的升级版，区间选一点 $\to$ 区间选多点。

结论还是一样的：选点要尽可能靠右。

```c++
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
const ll N = 1e4 + 5;

struct VIP {
    ll l, r, c;
    bool operator<(VIP &rhs) {
        return r < rhs.r;
    }
} a[N];
bool wasUsed[N] = {0};
ll n;

int main() {
    cin >> n;
    for(ll i = 1; i <= n; i++) cin >> a[i].l >> a[i].r >> a[i].c;
    sort(a + 1, a + n + 1);
    
    ll ans = 0;
    for(ll i = 1; i <= n; i++) {
        ll cnt = 0;
        for(ll j = a[i].l; j <= a[i].r; j++) {
            if(wasUsed[j]) cnt++;
        }
        for(ll j = a[i].r; j >= a[i].l; j--) {
            if(cnt >= a[i].c) break;
            if(!wasUsed[j]) {
                wasUsed[j] = true;
                cnt++; ans++;
            }
        }
    }
    cout << ans << endl;
    return 0;
}

```